{"openapi":"3.0.1","info":{"title":"User Management Service API","description":"API endpoints for managing users, organizations, classrooms, and groups","contact":{"name":"CodeSync101","url":"https://github.com/CodeSync101"},"version":"1.0"},"servers":[{"url":"http://localhost:8083","description":"Development server"}],"tags":[{"name":"Groups","description":"Group management operations"},{"name":"Users","description":"User management operations"},{"name":"Classrooms","description":"Classroom management operations"},{"name":"Organizations","description":"Organization management operations"},{"name":"Admin","description":"Admin operations for user assignments"}],"paths":{"/api/v1/users/{id}":{"get":{"tags":["Users"],"summary":"Get user by ID","description":"Retrieves specific user by their ID","operationId":"getUserById","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"403":{"description":"Forbidden","content":{"*/*":{"schema":{"$ref":"#/components/schemas/UserResponse"}}}},"200":{"description":"Operation successful","content":{"*/*":{"schema":{"$ref":"#/components/schemas/UserResponse"}}}},"401":{"description":"Unauthorized","content":{"*/*":{"schema":{"$ref":"#/components/schemas/UserResponse"}}}},"404":{"description":"Resource not found","content":{"*/*":{"schema":{"$ref":"#/components/schemas/UserResponse"}}}}}},"put":{"tags":["Users"],"summary":"Update user","description":"Updates user information","operationId":"updateUser","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserUpdateRequest"}}},"required":true},"responses":{"403":{"description":"Forbidden","content":{"*/*":{"schema":{"$ref":"#/components/schemas/UserResponse"}}}},"200":{"description":"Operation successful","content":{"*/*":{"schema":{"$ref":"#/components/schemas/UserResponse"}}}},"401":{"description":"Unauthorized","content":{"*/*":{"schema":{"$ref":"#/components/schemas/UserResponse"}}}},"404":{"description":"Resource not found","content":{"*/*":{"schema":{"$ref":"#/components/schemas/UserResponse"}}}}}},"delete":{"tags":["Users"],"summary":"Delete user","description":"Removes user from system","operationId":"deleteUser","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"403":{"description":"Forbidden"},"200":{"description":"Operation successful"},"401":{"description":"Unauthorized"},"404":{"description":"Resource not found"}}}},"/api/v1/organization/{orgId}/classroom/{classRoomId}":{"put":{"tags":["Organizations"],"summary":"Assign to classroom","description":"Associates organization with classroom","operationId":"assignToClassRoom","parameters":[{"name":"orgId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}},{"name":"classRoomId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"403":{"description":"Forbidden","content":{"*/*":{"schema":{"$ref":"#/components/schemas/OrganizationDTO"}}}},"200":{"description":"Operation successful","content":{"*/*":{"schema":{"$ref":"#/components/schemas/OrganizationDTO"}}}},"401":{"description":"Unauthorized","content":{"*/*":{"schema":{"$ref":"#/components/schemas/OrganizationDTO"}}}},"404":{"description":"Resource not found","content":{"*/*":{"schema":{"$ref":"#/components/schemas/OrganizationDTO"}}}}}}},"/api/v1/classroom/{id}":{"get":{"tags":["Classrooms"],"summary":"Get classroom by ID","description":"Retrieves specific classroom","operationId":"getClassRoomById","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ClassRoomResponse"}}}}}},"put":{"tags":["Classrooms"],"summary":"Update classroom","description":"Updates classroom information","operationId":"updateClassRoom","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ClassRoomRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ClassRoomResponse"}}}}}},"delete":{"tags":["Classrooms"],"summary":"Delete classroom","description":"Removes classroom from system","operationId":"deleteClassRoom","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK"}}}},"/api/v1/users/{userId}/groups/{groupId}":{"post":{"tags":["Users"],"summary":"Add user to group","description":"Assigns user to a specific group","operationId":"addUserToGroup","parameters":[{"name":"userId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}},{"name":"groupId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"403":{"description":"Forbidden","content":{"*/*":{"schema":{"$ref":"#/components/schemas/UserResponse"}}}},"200":{"description":"Operation successful","content":{"*/*":{"schema":{"$ref":"#/components/schemas/UserResponse"}}}},"401":{"description":"Unauthorized","content":{"*/*":{"schema":{"$ref":"#/components/schemas/UserResponse"}}}},"404":{"description":"Resource not found","content":{"*/*":{"schema":{"$ref":"#/components/schemas/UserResponse"}}}}}}},"/api/v1/users/register":{"post":{"tags":["Users"],"summary":"Register new user","description":"Creates a new user account","operationId":"registerUser","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserRequest"}}},"required":true},"responses":{"403":{"description":"Forbidden","content":{"*/*":{"schema":{"$ref":"#/components/schemas/UserResponse"}}}},"200":{"description":"Operation successful","content":{"*/*":{"schema":{"$ref":"#/components/schemas/UserResponse"}}}},"401":{"description":"Unauthorized","content":{"*/*":{"schema":{"$ref":"#/components/schemas/UserResponse"}}}},"404":{"description":"Resource not found","content":{"*/*":{"schema":{"$ref":"#/components/schemas/UserResponse"}}}}}}},"/api/v1/organization/create":{"post":{"tags":["Organizations"],"summary":"Create organization","description":"Creates new organization","operationId":"registerOrganization","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/OrganizationRequest"}}},"required":true},"responses":{"403":{"description":"Forbidden","content":{"*/*":{"schema":{"$ref":"#/components/schemas/OrganizationDTO"}}}},"200":{"description":"Operation successful","content":{"*/*":{"schema":{"$ref":"#/components/schemas/OrganizationDTO"}}}},"401":{"description":"Unauthorized","content":{"*/*":{"schema":{"$ref":"#/components/schemas/OrganizationDTO"}}}},"404":{"description":"Resource not found","content":{"*/*":{"schema":{"$ref":"#/components/schemas/OrganizationDTO"}}}}}}},"/api/v1/group/create-group":{"post":{"tags":["Groups"],"summary":"Create group","description":"Creates new group","operationId":"registerGroupRepo","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/GroupRepoRequest"}}},"required":true},"responses":{"403":{"description":"Forbidden","content":{"*/*":{"schema":{"$ref":"#/components/schemas/GroupRepoResponse"}}}},"200":{"description":"Operation successful","content":{"*/*":{"schema":{"$ref":"#/components/schemas/GroupRepoResponse"}}}},"401":{"description":"Unauthorized","content":{"*/*":{"schema":{"$ref":"#/components/schemas/GroupRepoResponse"}}}},"404":{"description":"Resource not found","content":{"*/*":{"schema":{"$ref":"#/components/schemas/GroupRepoResponse"}}}}}}},"/api/v1/classroom/create":{"post":{"tags":["Classrooms"],"summary":"Create classroom","description":"Creates new classroom","operationId":"createClassRoom","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ClassRoomRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ClassRoomResponse"}}}}}}},"/api/v1/admin/assign-teacher":{"post":{"tags":["Admin"],"summary":"Assign teacher to group","description":"Assigns a user as a teacher to a group","operationId":"assignTeacherToGroup","parameters":[{"name":"userId","in":"query","required":true,"schema":{"type":"integer","format":"int64"}},{"name":"groupId","in":"query","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"403":{"description":"Forbidden","content":{"*/*":{"schema":{"type":"string"}}}},"200":{"description":"Operation successful","content":{"*/*":{"schema":{"type":"string"}}}},"401":{"description":"Unauthorized","content":{"*/*":{"schema":{"type":"string"}}}},"404":{"description":"Resource not found","content":{"*/*":{"schema":{"type":"string"}}}}}}},"/api/v1/admin/assign-field-manager":{"post":{"tags":["Admin"],"summary":"Assign field manager to organization","description":"Assigns a user as a field manager to an organization","operationId":"assignFieldManagerToOrganization","parameters":[{"name":"userId","in":"query","required":true,"schema":{"type":"integer","format":"int64"}},{"name":"organizationId","in":"query","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"403":{"description":"Forbidden","content":{"*/*":{"schema":{"type":"string"}}}},"200":{"description":"Operation successful","content":{"*/*":{"schema":{"type":"string"}}}},"401":{"description":"Unauthorized","content":{"*/*":{"schema":{"type":"string"}}}},"404":{"description":"Resource not found","content":{"*/*":{"schema":{"type":"string"}}}}}}},"/api/v1/users/organizations/field-manager":{"get":{"tags":["Users"],"summary":"Get managed organizations","description":"Retrieves organizations the user manages as a field manager","operationId":"getManagedOrganizations","responses":{"403":{"description":"Forbidden","content":{"*/*":{"schema":{"uniqueItems":true,"type":"array","items":{"$ref":"#/components/schemas/OrganizationDTO"}}}}},"200":{"description":"Operation successful","content":{"*/*":{"schema":{"uniqueItems":true,"type":"array","items":{"$ref":"#/components/schemas/OrganizationDTO"}}}}},"401":{"description":"Unauthorized","content":{"*/*":{"schema":{"uniqueItems":true,"type":"array","items":{"$ref":"#/components/schemas/OrganizationDTO"}}}}},"404":{"description":"Resource not found","content":{"*/*":{"schema":{"uniqueItems":true,"type":"array","items":{"$ref":"#/components/schemas/OrganizationDTO"}}}}}}}},"/api/v1/users/me":{"get":{"tags":["Users"],"summary":"Get current user","description":"Retrieves information of the currently authenticated user","operationId":"getCurrentUser","responses":{"403":{"description":"Forbidden","content":{"*/*":{"schema":{"$ref":"#/components/schemas/UserResponse"}}}},"200":{"description":"Operation successful","content":{"*/*":{"schema":{"$ref":"#/components/schemas/UserResponse"}}}},"401":{"description":"Unauthorized","content":{"*/*":{"schema":{"$ref":"#/components/schemas/UserResponse"}}}},"404":{"description":"Resource not found","content":{"*/*":{"schema":{"$ref":"#/components/schemas/UserResponse"}}}}}}},"/api/v1/users/groups/teacher":{"get":{"tags":["Users"],"summary":"Get teacher groups","description":"Retrieves groups the user is responsible for as a teacher","operationId":"getTeacherGroups","responses":{"403":{"description":"Forbidden","content":{"*/*":{"schema":{"uniqueItems":true,"type":"array","items":{"$ref":"#/components/schemas/GroupRepoDTO"}}}}},"200":{"description":"Operation successful","content":{"*/*":{"schema":{"uniqueItems":true,"type":"array","items":{"$ref":"#/components/schemas/GroupRepoDTO"}}}}},"401":{"description":"Unauthorized","content":{"*/*":{"schema":{"uniqueItems":true,"type":"array","items":{"$ref":"#/components/schemas/GroupRepoDTO"}}}}},"404":{"description":"Resource not found","content":{"*/*":{"schema":{"uniqueItems":true,"type":"array","items":{"$ref":"#/components/schemas/GroupRepoDTO"}}}}}}}},"/api/v1/users/all":{"get":{"tags":["Users"],"summary":"Get all users","description":"Retrieves list of all users","operationId":"getAllUsers","responses":{"403":{"description":"Forbidden","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/UserResponse"}}}}},"200":{"description":"Operation successful","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/UserResponse"}}}}},"401":{"description":"Unauthorized","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/UserResponse"}}}}},"404":{"description":"Resource not found","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/UserResponse"}}}}}}}},"/api/v1/organization":{"get":{"tags":["Organizations"],"summary":"Get all organizations","description":"Retrieves list of all organizations","operationId":"getAllOrganizations","responses":{"403":{"description":"Forbidden","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/OrganizationDTO"}}}}},"200":{"description":"Operation successful","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/OrganizationDTO"}}}}},"401":{"description":"Unauthorized","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/OrganizationDTO"}}}}},"404":{"description":"Resource not found","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/OrganizationDTO"}}}}}}}},"/api/v1/organization/{id}":{"get":{"tags":["Organizations"],"summary":"Get organization by ID","description":"Retrieves specific organization","operationId":"getOrganizationById","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"403":{"description":"Forbidden","content":{"*/*":{"schema":{"$ref":"#/components/schemas/OrganizationDTO"}}}},"200":{"description":"Operation successful","content":{"*/*":{"schema":{"$ref":"#/components/schemas/OrganizationDTO"}}}},"401":{"description":"Unauthorized","content":{"*/*":{"schema":{"$ref":"#/components/schemas/OrganizationDTO"}}}},"404":{"description":"Resource not found","content":{"*/*":{"schema":{"$ref":"#/components/schemas/OrganizationDTO"}}}}}}},"/api/v1/group":{"get":{"tags":["Groups"],"summary":"Get all groups","description":"Retrieves list of all groups","operationId":"getAllGroups","responses":{"403":{"description":"Forbidden","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/GroupRepoResponse"}}}}},"200":{"description":"Operation successful","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/GroupRepoResponse"}}}}},"401":{"description":"Unauthorized","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/GroupRepoResponse"}}}}},"404":{"description":"Resource not found","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/GroupRepoResponse"}}}}}}}},"/api/v1/group/{id}":{"get":{"tags":["Groups"],"summary":"Get group by ID","description":"Retrieves specific group","operationId":"getGroupById","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"403":{"description":"Forbidden","content":{"*/*":{"schema":{"$ref":"#/components/schemas/GroupRepoResponse"}}}},"200":{"description":"Operation successful","content":{"*/*":{"schema":{"$ref":"#/components/schemas/GroupRepoResponse"}}}},"401":{"description":"Unauthorized","content":{"*/*":{"schema":{"$ref":"#/components/schemas/GroupRepoResponse"}}}},"404":{"description":"Resource not found","content":{"*/*":{"schema":{"$ref":"#/components/schemas/GroupRepoResponse"}}}}}}},"/api/v1/classroom":{"get":{"tags":["Classrooms"],"summary":"Get all classrooms","description":"Retrieves list of all classrooms","operationId":"getAllClassRooms","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/ClassRoomResponse"}}}}}}}},"/api/v1/users/{userId}/groups/{groupName}":{"delete":{"tags":["Users"],"summary":"Remove user from group","description":"Removes user from a specific group","operationId":"removeUserFromGroup","parameters":[{"name":"userId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}},{"name":"groupName","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"403":{"description":"Forbidden","content":{"*/*":{"schema":{"$ref":"#/components/schemas/UserResponse"}}}},"200":{"description":"Operation successful","content":{"*/*":{"schema":{"$ref":"#/components/schemas/UserResponse"}}}},"401":{"description":"Unauthorized","content":{"*/*":{"schema":{"$ref":"#/components/schemas/UserResponse"}}}},"404":{"description":"Resource not found","content":{"*/*":{"schema":{"$ref":"#/components/schemas/UserResponse"}}}}}}}},"components":{"schemas":{"UserUpdateRequest":{"type":"object","properties":{"username":{"type":"string"},"firstName":{"type":"string"},"lastName":{"type":"string"},"email":{"type":"string"},"group_name":{"type":"string"},"locked":{"type":"boolean"},"enabled":{"type":"boolean"}}},"GroupRepoDTO":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"group_name":{"type":"string"},"group_description":{"type":"string"},"group_type":{"type":"string"}}},"OrganizationDTO":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"org_name":{"type":"string"},"org_email":{"type":"string"},"org_owner":{"type":"string"},"classRoomId":{"type":"integer","format":"int64"},"groupRepos":{"type":"array","items":{"$ref":"#/components/schemas/GroupRepoDTO"}},"fieldManagers":{"uniqueItems":true,"type":"array","items":{"$ref":"#/components/schemas/UserDTO"}}}},"UserDTO":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"username":{"type":"string"},"email":{"type":"string"}}},"UserResponse":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"keycloakId":{"type":"string"},"username":{"type":"string"},"first_name":{"type":"string"},"last_name":{"type":"string"},"email":{"type":"string"},"locked":{"type":"boolean"},"enabled":{"type":"boolean"},"githubUsername":{"type":"string"},"roles":{"uniqueItems":true,"type":"array","items":{"type":"string","enum":["STUDENT","TEACHER","ADMIN","FIELD_MANAGER"]}},"groups":{"uniqueItems":true,"type":"array","items":{"$ref":"#/components/schemas/GroupRepoDTO"}},"teacherGroups":{"uniqueItems":true,"type":"array","items":{"$ref":"#/components/schemas/GroupRepoDTO"}},"managedOrganizations":{"uniqueItems":true,"type":"array","items":{"$ref":"#/components/schemas/OrganizationDTO"}}}},"ClassRoomRequest":{"type":"object","properties":{"name":{"type":"string"}}},"ClassRoomResponse":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"name":{"type":"string"},"organizations":{"uniqueItems":true,"type":"array","items":{"$ref":"#/components/schemas/OrganizationDTO"}}}},"UserRequest":{"required":["email","firstName","lastName","username"],"type":"object","properties":{"username":{"type":"string"},"firstName":{"type":"string"},"lastName":{"type":"string"},"email":{"type":"string"},"locked":{"type":"boolean"},"enabled":{"type":"boolean"},"group_name":{"type":"string"},"githubUsername":{"type":"string"},"roles":{"uniqueItems":true,"type":"array","items":{"type":"string","enum":["STUDENT","TEACHER","ADMIN","FIELD_MANAGER"]}}}},"OrganizationRequest":{"type":"object","properties":{"org_name":{"type":"string"},"org_email":{"type":"string"},"org_owner":{"type":"string"}}},"GroupRepoRequest":{"type":"object","properties":{"group_name":{"type":"string"},"group_description":{"type":"string"},"group_type":{"type":"string"},"organizationId":{"type":"integer","format":"int64"}}},"GroupRepoResponse":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"group_name":{"type":"string"},"group_description":{"type":"string"},"group_type":{"type":"string"},"organization":{"$ref":"#/components/schemas/OrganizationDTO"},"teachers":{"uniqueItems":true,"type":"array","items":{"$ref":"#/components/schemas/UserDTO"}}}}}}}